import scanner
import argparse

class Vulnerability_scanner:
    def __init__(self, url="", ignore=[]):
        self.target_url = url
        self.links_to_ignore = ignore
    
    def get_args(self):
        parser = argparse.ArgumentParser()
        parser.add_argument("-u", dest="target_url")
        self.target_url = parser.parse_args().target_url

    def run(self):
        scn = scanner.Scanner(self.target_url, self.links_to_ignore)
        scn.crawl(self.target_url)
        scn.run_scanner()


data_dict = {"username":"admin", "password":"password", "Login": "submit"}
#vuln_scanner.session.post("http://192.168.217.140/dvwa/login.php", data=data_dict)

vscn = Vulnerability_scanner()
vscn.get_args()
vscn.run()